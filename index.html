<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sayagyiâ€™s Winter Magic 2025</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- TOP EVENT HEADER -->
  <header class="event-header">
    <div class="event-logo">â„ï¸</div>

    <div class="event-title-group">
      <h1>Sayagyiâ€™s Winter Magic 2025</h1>
      <p class="event-subtitle">
        Join Merry and the elves to save Christmas â€“ complete quests, craft gifts, and earn rewards!
      </p>
    </div>

    <div class="event-status-pill">
      Live Event Â· <span id="eventDaysLeft">12 days left</span>
    </div>

    <!-- LOGGED-IN STATUS -->
    <div class="auth-logged-in" id="authLoggedIn" style="display:none;">
      <span>Hi, <strong id="userNameDisplay"></strong> â„ï¸</span>
      <button type="button" id="logoutBtn">Log out</button>
    </div>
  </header>

  <!-- SNOW BACKGROUND LAYER -->
  <div class="snow-layer"></div>

  <!-- CENTER LOGIN MODAL WITH BLUR -->
  <div id="loginOverlay" class="login-overlay">
    <div class="login-overlay-inner">
      <h2>Welcome to Sayagyiâ€™s Winter Magic</h2>
      <p>Please log in with your student account to join the event.</p>

      <form id="authForm" class="auth-form">
        <input id="authEmail" type="email" placeholder="Email" required />
        <input id="authPassword" type="password" placeholder="Password" required />

        <div class="auth-buttons">
          <button type="submit" id="loginBtn">Log in</button>
        </div>

        <div id="authMessage" class="auth-message"></div>
      </form>

      <p class="login-overlay-hint">
        Only registered students may access this Christmas event.
      </p>
    </div>
  </div>

  <!-- MAIN LAYOUT -->
  <main class="event-layout">

    <!-- LEFT TABS -->
    <nav class="event-nav">
      <button class="nav-btn active" data-panel="overview">
        ğŸŒŸ Overview
      </button>
      <button class="nav-btn" data-panel="elf-quests">
        ğŸ§ Elf Quests
      </button>
      <button class="nav-btn" data-panel="nice-naughty">
        ğŸ Nice & Naughty
      </button>
      <button class="nav-btn" data-panel="magic-pass">
        âœ¨ Magic Pass
      </button>
      <button class="nav-btn" data-panel="rewards">
        ğŸ† Rewards
      </button>
    </nav>

    <!-- RIGHT PANELS -->
    <section class="event-panels">

      <!-- OVERVIEW PANEL -->
      <section class="panel active" id="panel-overview">
        <div class="panel-header">
          <h2>Event Overview</h2>
          <span class="badge badge-rare">Christmas 2025</span>
        </div>

        <div class="panel-grid">
          <article class="card card-large">
            <h3>Welcome to Snowfall Village ğŸ„</h3>
            <p>
              Mischievous elves are causing chaos around Sayagyiâ€™s Winter Village!
              Team up with <strong>Merry the Elf</strong>, craft Nice or Naughty gifts,
              and earn <strong>Winter Points</strong> to unlock exclusive rewards.
            </p>
            <ul class="list-bullets">
              <li>Complete <strong>daily Elf Quests</strong> for Elf Coins.</li>
              <li>Craft <strong>Nice or Naughty gifts</strong> for Santa.</li>
              <li>Unlock bonuses with the <strong>Magic Pass</strong>.</li>
              <li>Collect exclusive <strong>Christmas cosmetics & badges</strong>.</li>
            </ul>
          </article>

          <article class="card">
            <h3>Event Progress</h3>

            <div class="progress-block">
              <div class="progress-label">
                Season Level <span id="seasonLevel">1</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="seasonXpFill" style="width: 20%;"></div>
              </div>
              <div class="progress-text">
                <span id="seasonXpText">120 / 600 XP</span>
              </div>
            </div>

            <div class="progress-block small-top">
              <div class="progress-label">
                Elf Coins <span id="elfCoinsValue">120</span>
              </div>
              <div class="progress-bar thin">
                <div class="progress-fill accent" id="elfCoinsFill" style="width: 35%;"></div>
              </div>
            </div>

            <div class="team-score-row">
              <div class="team-score-card">
                <div class="team-name">Team Snowflakes â„ï¸</div>
                <div class="team-score" id="teamSnowScore">1320</div>
              </div>
              <div class="team-score-card">
                <div class="team-name">Team Reindeers ğŸ¦Œ</div>
                <div class="team-score" id="teamReinScore">1680</div>
              </div>
            </div>
            <p class="tiny-note">
              Scores are for demo only. Firebase integration will replace these numbers.
            </p>
          </article>
        </div>
      </section>

      <!-- ELF QUESTS PANEL -->
      <section class="panel" id="panel-elf-quests">
        <div class="panel-header">
          <h2>Elf Quests</h2>
          <span class="badge">Daily Missions</span>
        </div>

        <p class="panel-intro">
          Help Merry track down the mischievous elves: <strong>Ivy</strong>, <strong>Sprout</strong>, and <strong>Cole</strong>.
        </p>

        <div class="card">
          <h3>Todayâ€™s Quest</h3>
          <div id="todayQuestBox" class="quest-today"></div>
          <button id="completeQuestBtn" class="primary-btn">âœ… Mark Quest as Completed</button>
          <p id="questStatusMessage" class="status-message"></p>
        </div>

        <div class="card">
          <h3>Quest List</h3>
          <ul id="questList" class="quest-list"></ul>
        </div>
      </section>

      <!-- NICE & NAUGHTY PANEL -->
      <section class="panel" id="panel-nice-naughty">
        <div class="panel-header">
          <h2>Nice & Naughty with Santa</h2>
          <span class="badge badge-epic">Gift Workshop</span>
        </div>

        <p class="panel-intro">
          Craft magical presents at the Workshop Table.
        </p>

        <div class="panel-grid">
          <article class="card">
            <h3>Choose Your Side</h3>
            <div class="side-toggle">
              <button class="side-btn active" data-side="nice">ğŸ Nice</button>
              <button class="side-btn" data-side="naughty">ğŸ˜ˆ Naughty</button>
            </div>

            <div id="sideDescription" class="side-description">
              Craft heartwarming gifts that earn <strong>Nice Points</strong>.
            </div>

            <div class="recipe-box">
              <h4>Example Recipes</h4>
              <ul class="list-bullets small">
                <li><strong>Candy Cane</strong> + <strong>Ribbon</strong> â†’ Festive Treat ğŸ€</li>
                <li><strong>Hot Cocoa</strong> + <strong>Marshmallow</strong> â†’ Warmer Mug â˜•</li>
              </ul>
            </div>

            <button id="craftGiftBtn" class="primary-btn">âœ¨ Craft Gift</button>
            <p id="craftResult" class="status-message"></p>
          </article>

          <article class="card">
            <h3>Nice vs Naughty Progress</h3>

            <div class="progress-block">
              <div class="progress-label">
                Nice Points <span id="nicePointsValue">0</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="nicePointsFill"></div>
              </div>
            </div>

            <div class="progress-block">
              <div class="progress-label">
                Naughty Points <span id="naughtyPointsValue">0</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill accent" id="naughtyPointsFill"></div>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- MAGIC PASS PANEL -->
      <section class="panel" id="panel-magic-pass">
        <div class="panel-header">
          <h2>Magic Pass</h2>
          <span class="badge badge-legendary">Premium Track</span>
        </div>

        <div class="panel-grid">
          <article class="card card-large">
            <h3>Unlock Extra Magic âœ¨</h3>
            <p>
              Magic Pass grants double Elf Coins, extra crafts, and exclusive cosmetics.
            </p>
            <ul class="list-bullets">
              <li>â­ 2Ã— Elf Coins</li>
              <li>ğŸ +3 gift crafts / day</li>
              <li>ğŸ„ Exclusive cosmetics</li>
              <li>ğŸ§ Special title</li>
            </ul>
            <button id="togglePassBtn" class="primary-btn wide">ğŸ”’ Activate Magic Pass</button>
            <p id="passStatusText" class="status-message">Magic Pass is currently <strong>locked</strong>.</p>
          </article>

          <article class="card">
            <h3>Pass Preview</h3>
            <div class="pass-preview">
              <div class="pass-badge" id="passBadge">MAGIC PASS</div>
              <ul class="list-bullets small">
                <li>Bonus cosmetics track</li>
                <li>Merryâ€™s special ending message</li>
                <li>Star aura</li>
              </ul>
            </div>
          </article>
        </div>
      </section>

      <!-- REWARDS PANEL -->
      <section class="panel" id="panel-rewards">
        <div class="panel-header">
          <h2>Rewards</h2>
          <span class="badge">Limited-Time Items</span>
        </div>

        <p class="panel-intro">
          Unlock exclusive Christmas rewards using Elf Coins, Nice/Naughty Points, and XP.
        </p>

        <div class="reward-grid" id="rewardGrid"></div>
      </section>

    </section>
  </main>

  <!-- FOOTER -->
  <footer class="event-footer">
    <span>Â© 2025 Pen Noble English Language Academy Â· Sayagyiâ€™s Winter Magic</span>
  </footer>

  <!-- Firebase + Game Logic -->
  <script type="module" src="script.js"></script>

</body>
</html>
